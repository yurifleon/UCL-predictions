{% extends "base.html" %}
{% block title %}{{ _('Leaderboard - UCL Forecast') }}{% endblock %}
{% block content %}
<h2 class="mb-4">{{ _('Leaderboard') }}</h2>

<div class="card">
    <div class="card-body p-0">
        <div class="table-responsive">
            <table class="table table-hover mb-0">
                <thead>
                    <tr>
                        <th>{{ _('Rank') }}</th>
                        <th>{{ _('User') }}</th>
                        {% for m in matches %}
                        <th class="text-center" title="{{ m.home_team }} vs {{ m.away_team }}">
                            {{ m.home_team[:3] }}-{{ m.away_team[:3] }}
                        </th>
                        {% endfor %}
                        <th class="text-center">{{ _('Total') }}</th>
                    </tr>
                </thead>
                <tbody>
                    {% for row in rows %}
                    <tr>
                        <td>{{ loop.index }}</td>
                        <td><strong>{{ row.user }}</strong></td>
                        {% for b in row.breakdown %}
                        <td class="text-center">
                            {% if b.points.total > 0 %}
                            <span class="badge bg-success">{{ b.points.total }}</span>
                            {% else %}
                            <span class="text-muted">0</span>
                            {% endif %}
                        </td>
                        {% endfor %}
                        <td class="text-center"><strong class="text-info">{{ row.total }}</strong></td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

<h5 class="mt-4">{{ _('Scoring System') }}</h5>
<div class="card">
    <div class="card-body">
        <ul class="mb-0">
            <li><strong>{{ _('Exact score:') }}</strong> {{ _('6 points (per leg)') }}</li>
            <li><strong>{{ _('Correct result + goal difference:') }}</strong> {{ _('4 points (per leg)') }}</li>
            <li><strong>{{ _('Correct result only:') }}</strong> {{ _('2 points (per leg)') }}</li>
            <li><strong>{{ _('Max per tie:') }}</strong> {{ _('12 points (6 + 6)') }}</li>
        </ul>
    </div>
</div>
{% endblock %}
